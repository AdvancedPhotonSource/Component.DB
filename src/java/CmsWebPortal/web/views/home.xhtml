<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:composition template="../templates/contentViewTemplate4x3.xhtml">
        <ui:define name="middleCenter">

            <div class="homePage">

                <div class="pageTitle">
                    <h1>CMS Home</h1>
                </div>

                <div class="sectionText">
                    A major effort in the conceptual design phase of the MBA accelerator is identifying, defining and tracking 
                    component types and component lists necessary to build the new facility. 
                    Reasonable estimates of cost and labor will depend on the thoroughness and accuracy of such lists. 
                    The primary goal of the Component Management System is to capture required components and assist 
                    in defining the conceptual design of the new accelerator.
                    <p/>
                    <ui:fragment rendered="#{!loginController.loggedIn}">
                        You can browse system pages without any authentication. If you would like to add or modify
                        CMS data, please <h:link outcome="/views/login" value="login"/>.
                    </ui:fragment>
                    <p/>
                </div>

                <div class="sectionTitle">
                    <h2>System At A Glance</h2>
                </div>    

                <h:form id="systemSummaryForm">
                    <p:growl id="messages" showDetail="true" autoUpdate="true"/>
                    <p:panelGrid columns="2">
                        <h:outputLabel for="nRegisteredUsers" value="Number of Registered Users" styleClass="entityDataLabel"/>
                        <h:outputText id="nRegisteredUsers" value="#{userController.items.getRowCount()}" title="Number of Registered Users" styleClass="entityDataText"/>

                        <h:outputLabel for="nCatalogedComponents" value="Number of Cataloged Components" styleClass="entityDataLabel"/>
                        <h:outputText id="nCatalogedComponents" value="#{componentController.items.getRowCount()}" title="Number of Cataloged Components" styleClass="entityDataText"/>

                                                <h:outputLabel for="nCatalogedCollections" value="Number of Cataloged Collections" styleClass="entityDataLabel"/>
                        <h:outputText id="nCatalogedCollections" value="#{collectionController.items.getRowCount()}" title="Number of Cataloged Collections" styleClass="entityDataText"/>

                    </p:panelGrid>
                </h:form>
            </div>

            <ui:fragment rendered="#{loginController.loggedInAsAdmin}">
                <p/>
                <div class="sectionTitle">
                    <h2>Quick Links</h2>
                    <h:form id="quickLinksForm">
                        <div class="commandLink">
                            <h:commandLink action="#{loginController.dropAdminRole()}" value="Drop Administrator Role"></h:commandLink>
                        </div>
                    </h:form>
                </div>
            </ui:fragment>

        </ui:define>
    </ui:composition>
</ui:composition>

